<ui:composition xmlns="http://www.w3.org/1999/xhtml"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:a4j="http://richfaces.org/a4j"
	xmlns:rich="http://richfaces.org/rich">

	<div class="section" lang="en-US">
	<div class="titlepage">
	<div>
	<div>
	<h2 class="title">User Input Data
	Validation</h2>
	</div>
	</div>
	</div>
	<p>Validation of user input is a very frequent situation for a
	developer. RichFaces library offers 3 component to get this job done: <span
		class="bold"><strong><span class="property">&lt;rich:beanValidator&gt;</span></strong></span>,
	<span class="bold"><strong><span class="property">&lt;rich:graphValidator&gt;</span></strong></span>,

	and <span class="bold"><strong><span class="property">&lt;rich:ajaxValidator&gt;</span></strong></span>.
	The latter two components are used in the Photo Album application. <span
		class="bold"><strong><span class="property">&lt;rich:graphValidator&gt;</span></strong></span>
	is intended to validate the whole object or the graph of interrelated
	objects and the validation occurs when the whole form is submitted.
	While <span class="bold"><strong><span class="property">&lt;rich:ajaxValidator&gt;</span></strong></span>
	validates only one input field or a value at a time, validation is
	activated upon some event and adds interactivity to the application.
	Both components use Hibernate validators which helps to locate
	validation logic in one place, such approach is really helpful given
	that usually data validation logic is stored in multiple places
	including UI pages and in Java code that interacts with a database.</p>
	<p>Let's have a look at the components usage on the registration
	page. This is how the page looks like (some irrelevant details were
	removed from the example):</p>
	<pre  xml:space="preserve" xmlns:rf="java:org.jboss.highlight.XhtmlRendererFactory"
		class="JAVA"><!-- XML : generated by JHighlight v1.0 (http://jhighlight.dev.java.net) -->
<span class="xml_plain">...</span><br />
<span class="xml_tag_symbols">&lt;</span><span class="xml_tag_name">ui:composition</span><span
		class="xml_plain"> </span><span class="xml_attribute_name">xmlns</span><span
		class="xml_tag_symbols">=</span><span class="xml_attribute_value">&quot;http://www.w3.org/1999/xhtml&quot;</span><span
		class="xml_plain"> ...</span><br />
<span class="xml_plain">    </span><br />
<span class="xml_plain">    &lt;</span><span
		class="xml_attribute_name">rich:graphValidator</span><span
		class="xml_tag_symbols">&gt;</span><span class="xml_plain"></span><br />
<span class="xml_plain">        ...</span><br />
<span class="xml_plain">        </span><span
		class="xml_tag_symbols">&lt;</span><span class="xml_tag_name">h:inputText</span><span
		class="xml_plain"> </span><span class="xml_attribute_name">id</span><span
		class="xml_tag_symbols">=</span><span class="xml_attribute_value">&quot;loginName&quot;</span><span
		class="xml_plain"> </span><span class="xml_attribute_name">value</span><span
		class="xml_tag_symbols">=</span><span class="xml_attribute_value">&quot; {user.login}&quot;</span><span
		class="xml_plain"> </span><span class="xml_tag_symbols">/&gt;</span><span
		class="xml_plain"></span><br />
<span class="xml_plain">        </span><span
		class="xml_tag_symbols">&lt;</span><span class="xml_tag_name">rich:messages</span><span
		class="xml_plain"> </span><span class="xml_attribute_name">for</span><span
		class="xml_tag_symbols">=</span><span class="xml_attribute_value">&quot;loginName&quot;</span><span
		class="xml_plain"> </span><span class="xml_tag_symbols">/&gt;</span><span
		class="xml_plain"></span><br />
<span class="xml_plain">        </span><span
		class="xml_tag_symbols">&lt;</span><span class="xml_tag_name">h:inputSecret</span><span
		class="xml_plain"> </span><span class="xml_attribute_name">required</span><span
		class="xml_tag_symbols">=</span><span class="xml_attribute_value">&quot;true&quot;</span><span
		class="xml_plain"> </span><span class="xml_attribute_name">id</span><span
		class="xml_tag_symbols">=</span><span class="xml_attribute_value">&quot;password&quot;</span><span
		class="xml_plain"> </span><span class="xml_attribute_name">value</span><span
		class="xml_tag_symbols">=</span><span class="xml_attribute_value">&quot; {user.password}&quot;</span><span
		class="xml_plain"> </span><span class="xml_tag_symbols">/&gt;</span><span
		class="xml_plain"></span><br />
<span class="xml_plain">        </span><span
		class="xml_tag_symbols">&lt;</span><span class="xml_tag_name">rich:messages</span><span
		class="xml_plain"> </span><span class="xml_attribute_name">for</span><span
		class="xml_tag_symbols">=</span><span class="xml_attribute_value">&quot;password&quot;</span><span
		class="xml_plain"> </span><span class="xml_tag_symbols">/&gt;</span><span
		class="xml_plain"></span><br />
<span class="xml_plain">        </span><span
		class="xml_tag_symbols">&lt;</span><span class="xml_tag_name">h:inputSecret</span><span
		class="xml_plain"> </span><span class="xml_attribute_name">required</span><span
		class="xml_tag_symbols">=</span><span class="xml_attribute_value">&quot;true&quot;</span><span
		class="xml_plain"> </span><span class="xml_attribute_name">id</span><span
		class="xml_tag_symbols">=</span><span class="xml_attribute_value">&quot;confirmPassword&quot;</span><span
		class="xml_plain"></span><br />
<span class="xml_plain">            </span><span
		class="xml_attribute_name">value</span><span class="xml_tag_symbols">=</span><span
		class="xml_attribute_value">&quot; {user.confirmPassword}&quot;</span><span
		class="xml_plain"> </span><span class="xml_tag_symbols">/&gt;</span><span
		class="xml_plain"></span><br />
<span class="xml_plain">        </span><span
		class="xml_tag_symbols">&lt;</span><span class="xml_tag_name">rich:messages</span><span
		class="xml_plain"> </span><span class="xml_attribute_name">for</span><span
		class="xml_tag_symbols">=</span><span class="xml_attribute_value">&quot;confirmPassword&quot;</span><span
		class="xml_plain"> </span><span class="xml_tag_symbols">/&gt;</span><span
		class="xml_plain"></span><br />
<span class="xml_plain">        </span><span
		class="xml_tag_symbols">&lt;</span><span class="xml_tag_name">h:inputText</span><span
		class="xml_plain"> </span><span class="xml_attribute_name">id</span><span
		class="xml_tag_symbols">=</span><span class="xml_attribute_value">&quot;firstname&quot;</span><span
		class="xml_plain"> </span><span class="xml_attribute_name">value</span><span
		class="xml_tag_symbols">=</span><span class="xml_attribute_value">&quot; {user.firstName}&quot;</span><span
		class="xml_plain"> </span><span class="xml_tag_symbols">/&gt;</span><span
		class="xml_plain"></span><br />
<span class="xml_plain">        </span><span
		class="xml_tag_symbols">&lt;</span><span class="xml_tag_name">rich:messages</span><span
		class="xml_plain"> </span><span class="xml_attribute_name">for</span><span
		class="xml_tag_symbols">=</span><span class="xml_attribute_value">&quot;firstname&quot;</span><span
		class="xml_plain"> </span><span class="xml_attribute_name">style</span><span
		class="xml_tag_symbols">=</span><span class="xml_attribute_value">&quot;color:red;&quot;</span><span
		class="xml_plain"> </span><span class="xml_tag_symbols">/&gt;</span><span
		class="xml_plain"></span><br />
<span class="xml_plain">        </span><span
		class="xml_tag_symbols">&lt;</span><span class="xml_tag_name">h:inputText</span><span
		class="xml_plain"> </span><span class="xml_attribute_name">id</span><span
		class="xml_tag_symbols">=</span><span class="xml_attribute_value">&quot;secondname&quot;</span><span
		class="xml_plain"> </span><span class="xml_attribute_name">value</span><span
		class="xml_tag_symbols">=</span><span class="xml_attribute_value">&quot; {user.secondName}&quot;</span><span
		class="xml_plain"> </span><span class="xml_tag_symbols">/&gt;</span><span
		class="xml_plain"></span><br />
<span class="xml_plain">        </span><span
		class="xml_tag_symbols">&lt;</span><span class="xml_tag_name">rich:messages</span><span
		class="xml_plain"> </span><span class="xml_attribute_name">for</span><span
		class="xml_tag_symbols">=</span><span class="xml_attribute_value">&quot;secondname&quot;</span><span
		class="xml_plain"> </span><span class="xml_tag_symbols">/&gt;</span><span
		class="xml_plain"></span><br />
<span class="xml_plain">        </span><span
		class="xml_tag_symbols">&lt;</span><span class="xml_tag_name">h:selectOneRadio</span><span
		class="xml_plain"> </span><span class="xml_attribute_name">required</span><span
		class="xml_tag_symbols">=</span><span class="xml_attribute_value">&quot;true&quot;</span><span
		class="xml_plain"> </span><span class="xml_attribute_name">id</span><span
		class="xml_tag_symbols">=</span><span class="xml_attribute_value">&quot;sex&quot;</span><span
		class="xml_plain"> </span><span class="xml_attribute_name">value</span><span
		class="xml_tag_symbols">=</span><span class="xml_attribute_value">&quot; {user.sex}&quot;</span><span
		class="xml_tag_symbols">&gt;</span><span class="xml_plain"></span><br />
<span class="xml_plain">            </span><span
		class="xml_tag_symbols">&lt;</span><span class="xml_tag_name">f:selectItems</span><span
		class="xml_plain"> </span><span class="xml_attribute_name">value</span><span
		class="xml_tag_symbols">=</span><span class="xml_attribute_value">&quot; {userPrefsBean.sexs}&quot;</span><span
		class="xml_plain"> </span><span class="xml_tag_symbols">/&gt;</span><span
		class="xml_plain"></span><br />
<span class="xml_plain">            </span><span
		class="xml_tag_symbols">&lt;</span><span class="xml_tag_name">s:convertEnum</span><span
		class="xml_plain"> </span><span class="xml_tag_symbols">/&gt;</span><span
		class="xml_plain"></span><br />
<span class="xml_plain">        </span><span
		class="xml_tag_symbols">&lt;/</span><span class="xml_tag_name">h:selectOneRadio</span><span
		class="xml_tag_symbols">&gt;</span><span class="xml_plain"></span><br />
<span class="xml_plain">        </span><span
		class="xml_tag_symbols">&lt;</span><span class="xml_tag_name">rich:messages</span><span
		class="xml_plain"> </span><span class="xml_attribute_name">for</span><span
		class="xml_tag_symbols">=</span><span class="xml_attribute_value">&quot;sex&quot;</span><span
		class="xml_plain"> </span><span class="xml_tag_symbols">/&gt;</span><span
		class="xml_plain"></span><br />
<span class="xml_plain">        </span><span
		class="xml_tag_symbols">&lt;</span><span class="xml_tag_name">a4j:outputPanel</span><span
		class="xml_plain"> </span><span class="xml_attribute_name">id</span><span
		class="xml_tag_symbols">=</span><span class="xml_attribute_value">&quot;calendar&quot;</span><span
		class="xml_plain"> </span><span class="xml_attribute_name">layout</span><span
		class="xml_tag_symbols">=</span><span class="xml_attribute_value">&quot;block&quot;</span><span
		class="xml_tag_symbols">&gt;</span><span class="xml_plain"></span><br />
<span class="xml_plain">            </span><span
		class="xml_tag_symbols">&lt;</span><span class="xml_tag_name">rich:calendar</span><span
		class="xml_plain"> </span><span class="xml_attribute_name">id</span><span
		class="xml_tag_symbols">=</span><span class="xml_attribute_value">&quot;birthDate&quot;</span><span
		class="xml_plain"> </span><span class="xml_attribute_name">value</span><span
		class="xml_tag_symbols">=</span><span class="xml_attribute_value">&quot; {user.birthDate}&quot;</span><span
		class="xml_plain"></span><br />
<span class="xml_plain">                </span><br />
<span class="xml_plain">                &lt;</span><span
		class="xml_attribute_name">rich:ajaxValidator</span><span
		class="xml_plain"> </span><span class="xml_attribute_name">event</span><span
		class="xml_tag_symbols">=</span><span class="xml_attribute_value">&quot;oninputblur&quot;</span><span
		class="xml_plain"> </span><span class="xml_tag_symbols">/&gt;</span><span
		class="xml_plain"></span><br />
<span class="xml_plain">            </span><span
		class="xml_tag_symbols">&lt;/</span><span class="xml_tag_name">rich:calendar</span><span
		class="xml_tag_symbols">&gt;</span><span class="xml_plain"></span><br />
<span class="xml_plain">        </span><span
		class="xml_tag_symbols">&lt;/</span><span class="xml_tag_name">a4j:outputPanel</span><span
		class="xml_tag_symbols">&gt;</span><span class="xml_plain"></span><br />
<span class="xml_plain">        </span><span
		class="xml_tag_symbols">&lt;</span><span class="xml_tag_name">rich:messages</span><span
		class="xml_plain"> </span><span class="xml_attribute_name">for</span><span
		class="xml_tag_symbols">=</span><span class="xml_attribute_value">&quot;birthDate&quot;</span><span
		class="xml_plain"> </span><span class="xml_tag_symbols">/&gt;</span><span
		class="xml_plain"></span><br />
<span class="xml_plain">        </span><span
		class="xml_tag_symbols">&lt;</span><span class="xml_tag_name">h:inputText</span><span
		class="xml_plain"> </span><span class="xml_attribute_name">id</span><span
		class="xml_tag_symbols">=</span><span class="xml_attribute_value">&quot;email&quot;</span><span
		class="xml_plain"> </span><span class="xml_attribute_name">value</span><span
		class="xml_tag_symbols">=</span><span class="xml_attribute_value">&quot; {user.email}&quot;</span><span
		class="xml_plain"> </span><span class="xml_tag_symbols">/&gt;</span><span
		class="xml_plain"></span><br />
<span class="xml_plain">        </span><span
		class="xml_tag_symbols">&lt;</span><span class="xml_tag_name">rich:messages</span><span
		class="xml_plain"> </span><span class="xml_attribute_name">for</span><span
		class="xml_tag_symbols">=</span><span class="xml_attribute_value">&quot;email&quot;</span><span
		class="xml_plain"> </span><span class="xml_tag_symbols">/&gt;</span><span
		class="xml_plain"></span><br />
<span class="xml_plain">    </span><span
		class="xml_tag_symbols">&lt;/</span><span class="xml_tag_name">rich:graphValidator</span><span
		class="xml_tag_symbols">&gt;</span><span class="xml_plain"></span><br />
<span class="xml_plain">    </span><span
		class="xml_tag_symbols">&lt;</span><span class="xml_tag_name">richx:commandButton</span><span
		class="xml_plain"> </span><span class="xml_attribute_name">actionListener</span><span
		class="xml_tag_symbols">=</span><span class="xml_attribute_value">&quot; {authenticator.register(user)}&quot;</span><span
		class="xml_plain"></span><br />
<span class="xml_plain">        </span><span
		class="xml_attribute_name">value</span><span class="xml_tag_symbols">=</span><span
		class="xml_attribute_value">&quot;Register&quot;</span><span
		class="xml_plain"> </span><span class="xml_tag_symbols">/&gt;</span><span
		class="xml_plain"></span><br />
<span class="xml_plain">    </span><span
		class="xml_tag_symbols">&lt;</span><span class="xml_tag_name">richx:commandButton</span><span
		class="xml_plain"> </span><span class="xml_attribute_name">actionListener</span><span
		class="xml_tag_symbols">=</span><span class="xml_attribute_value">&quot; {controller.cancelRegistration()}&quot;</span><span
		class="xml_plain"></span><br />
<span class="xml_plain">        </span><span
		class="xml_attribute_name">immediate</span><span
		class="xml_tag_symbols">=</span><span class="xml_attribute_value">&quot;true&quot;</span><span
		class="xml_plain"> </span><span class="xml_attribute_name">value</span><span
		class="xml_tag_symbols">=</span><span class="xml_attribute_value">&quot;Cancel&quot;</span><span
		class="xml_plain"> </span><span class="xml_tag_symbols">/&gt;</span><span
		class="xml_plain"></span><br />
<span class="xml_tag_symbols">&lt;/</span><span class="xml_tag_name">ui:composition</span><span
		class="xml_tag_symbols">&gt;</span><span class="xml_plain"></span><br />
<span class="xml_plain"></span><br />
<span class="xml_plain">...</span><br />
</pre>
	<p><span class="bold"><strong><span
		class="property">&lt;rich:graphValidator&gt;</span></strong></span> validates the
	entity User object, in which restrictions are set with the help of
	Hibernate annotations. When the <span class="bold"><strong>Register</strong></span>
	button is clicked on the <span class="property">name, password,
	sex</span> etc. fields are validated sequentially. In case of an error (for
	example, if a <span class="property">loginName</span> contains only on
	character and the annotation restricts it to at least 3 characters to
	be typed in) a error message in red color is displayed next to the
	input field and the request is aborted. If all values are valid the <code
		class="code">authenticator.register(user)</code> method will be
	invoked and the user will be saved to the database.</p>
	<p><span class="bold"><strong><span
		class="property">&lt;rich:ajaxValidator&gt;</span></strong></span> acts in a slightly
	different way, in our case it is attached to the <code class="code">user.birthDate</code>
	field. When the value of the field is changed and the field loses focus
	it is immediately validated. If the input data is incorrect and error
	message will displayed, which is a quick way to respond to user input
	errors and avoid sending incorrect data to the server.</p>
	<p>If you would like to get more details about the validators that
	RichFaces library provides please visit <a target="_blank" 
		xmlns:xlink="http://www.w3.org/1999/xlink"
		href="http://livedemo.exadel.com/richfaces-demo/richfaces/ajaxValidator.jsf">Live
	Demo</a> web page and <a target="_blank" xmlns:xlink="http://www.w3.org/1999/xlink"
		href="http://www.jboss.org/file-access/default/members/jbossrichfaces/freezone/docs/devguide/en/html/index.html">RichFaces
	Developer Guide</a>.</p>
	</div>

</ui:composition>